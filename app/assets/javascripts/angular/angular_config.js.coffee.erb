Grasshopper.config( ['$httpProvider', ($httpProvider) ->

  authToken = $("meta[name=\"csrf-token\"]").attr("content")
  $httpProvider.defaults.headers.common["X-CSRF-TOKEN"] = authToken

])

Grasshopper.config(['$routeProvider', ($routeProvider) ->
  $routeProvider.when('/edit-profile', { templateUrl: "<%= asset_path('edit-profile.html') %>", controller: 'EditProfileCtrl' } )

  $routeProvider.when('/search', { templateUrl: "<%= asset_path('search.html') %>", controller: 'SearchCtrl' } )

  $routeProvider.when('/view-profile/:userId', { templateUrl: "<%= asset_path('view-profile.html') %>", controller: 'ViewProfileCtrl' } )

  $routeProvider.when('/conversation', { templateUrl: "<%= asset_path('conversation.html') %>", controller: 'ConversationCtrl' } )

  $routeProvider.otherwise( { templateUrl: "<%= asset_path('mainIndex.html') %>", controller: 'IndexCtrl' } )
])